name: Pull request

on:
    pull_request:
      branches: [ main ]

jobs:
    addChangelog:
        runs-on: ubuntu-latest

        strategy:
            matrix:
                node-version: [16.x]
                # See supported Node.js release schedule at https://nodejs.org/en/about/releases/

        steps:
            - name: Checkout
              uses: actions/checkout@v3
            - name: "✏️ Generate release changelog"
              uses: heinrichreimer/github-changelog-generator-action@v2.3
              id: changelog
              with:
                  token: ${{ secrets.GITHUB_TOKEN }}
            - name: Comment PR
              uses: thollander/actions-comment-pull-request@v1
              with:
                message: Generated changelog |
                  ${{ steps.changelog.outputs.changelog }}
                GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}