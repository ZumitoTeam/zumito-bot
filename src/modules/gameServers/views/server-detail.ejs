<main class="p-8 space-y-6">
    <a href="/game-servers/<%= game %>" class="text-sm text-gray-300 hover:text-white">← <%= tBack %></a>

    <header>
        <h1 class="text-3xl font-bold"><%= pageTitle %></h1>
        <p class="text-gray-400 mt-2"><span class="capitalize"><%= tGame %></span>: <span class="font-medium capitalize"><%= server.game %></span></p>
    </header>

    <section class="p-4 rounded bg-gray-800 space-y-3">
        <div class="flex items-center gap-3">
            <div>
                <div class="text-gray-400 text-sm"><%= tIp %></div>
                <div class="font-mono"><%= server.ip %></div>
            </div>
            <button id="copyBtn" class="px-3 py-1 rounded bg-gray-700 hover:bg-gray-600 text-sm"><%= tCopy %></button>
            <span id="copyNote" class="text-green-400 text-sm hidden"><%= tCopied %></span>
        </div>

        <div class="grid sm:grid-cols-2 gap-4">
            <div>
                <div class="text-gray-400 text-sm"><%= tStatus %></div>
                <% if (status && status.online) { %>
                    <div class="text-green-400"><%= labelOnline %></div>
                <% } else { %>
                    <div class="text-red-400"><%= labelOffline %></div>
                <% } %>
            </div>
            <div>
                <div class="text-gray-400 text-sm"><%= tPlayers %></div>
                <% if (status && status.players) { %>
                    <div class="text-white"><%= status.players.online %>/<%= status.players.max %></div>
                <% } else { %>
                    <div class="text-gray-400">—</div>
                <% } %>
            </div>
            <div>
                <div class="text-gray-400 text-sm"><%= tVersion %></div>
                <div class="text-white"><%= (status && status.version) ? status.version : '—' %></div>
            </div>
            <div>
                <div class="text-gray-400 text-sm"><%= tMotd %></div>
                <div class="text-white whitespace-pre-wrap"><%= (status && status.motd && (status.motd.clean || status.motd.text)) ? (status.motd.clean || status.motd.text) : '—' %></div>
            </div>
        </div>
    </section>

    <% if (status && status.debug) { %>
        <details class="p-4 rounded bg-gray-800">
            <summary class="cursor-pointer text-gray-300">Debug</summary>
            <pre class="mt-2 text-xs overflow-x-auto"><%= JSON.stringify(status, null, 2) %></pre>
        </details>
    <% } %>

    <script>
        const btn = document.getElementById('copyBtn');
        const note = document.getElementById('copyNote');
        if (btn) {
            btn.addEventListener('click', async () => {
                try {
                    await navigator.clipboard.writeText('<%= server.ip %>');
                    note?.classList.remove('hidden');
                    setTimeout(() => note?.classList.add('hidden'), 1500);
                } catch {}
            });
        }
    </script>
</main>

